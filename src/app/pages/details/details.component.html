<section class="container mx-auto p-6">
    @if (loading) {
    <div class="flex justify-center items-center h-64">
        <i class="fas fa-spinner fa-spin text-4xl text-green-500"></i>
    </div>
    }

    @if (!loading && product) {
    <div class="flex gap-10">
        <img [src]="product.imageCover" class="w-1/3 h-auto object-cover shadow-lg rounded-lg" alt="Product Image">

        <div class="w-2/3">
            <h2 class="text-3xl font-bold text-green-600">{{ product.title }}</h2>
            <p class="text-gray-600 mt-2">{{ product.description }}</p>
            <p class="mt-2"><strong>Category:</strong> {{ product.category?.name }}</p>
            <p class="mt-2"><strong>Brand:</strong> {{ product.brand?.name }}</p>
            <p class="text-xl font-semibold text-gray-800 mt-4">{{ product.price }} EGP</p>

            <div class="flex mt-4 space-x-2">
                <button
                    class="w-1/2 bg-gray-500 text-white py-2 rounded-md font-medium hover:bg-gray-600 transition duration-300"
                    (click)="goBack()">
                    Back
                </button>

                <button (click)="addToCart(product._id)" [disabled]="addingToCart"
                    class="w-1/2 bg-green-500 text-white py-2 rounded-md font-medium hover:bg-green-600 transition duration-300 flex justify-center items-center">

                    @if (addingToCart) {
                    <i class="fas fa-spinner fa-spin mr-2"></i>
                    }
                    Add to Cart
                </button>
            </div>
        </div>
    </div>
    }
</section>