<section class="container mx-auto p-6">
    <h2 class="text-3xl font-semibold mb-4">Brands</h2>

    @if (isLoading) {
        <div class="flex justify-center items-center h-64">
            <i class="fas fa-spinner fa-spin text-4xl text-green-500"></i>
        </div>
    }

    @if (!isLoading) {
        <div class="grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
            @for (brand of brands; track brand._id) {
                <div class="border card border-green-400/50 rounded-md overflow-hidden shadow-lg bg-white cursor-pointer" (click)="viewBrandDetails(brand._id)">
                    <!-- Brand Image -->
                    <div class="card-img">
                        <img [src]="brand.image" class="w-full h-40 object-contain" [alt]="brand.name">
                    </div>

                    <!-- Brand Info -->
                    <div class="card-body p-4 text-center">
                        <h3 class="font-medium text-lg">{{ brand.name }}</h3>
                    </div>
                </div>
            }
        </div>
    }
</section>


<!-- Brand Details Modal -->
@if (selectedBrand) {
<section class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center" (click)="selectedBrand = null">
    <div class="bg-white p-6 rounded-lg shadow-lg w-96 relative" (click)="$event.stopPropagation()">
        <button class="absolute top-3 right-3 text-red-600 text-xl" (click)="selectedBrand = null"> &times; </button>
        <img [src]="selectedBrand.image" class="w-full h-40 object-contain rounded-md" alt="Brand Image">
        <h2 class="text-2xl font-semibold text-green-600 mt-4">{{ selectedBrand.name }}</h2>
        <p class="text-gray-500 mt-2">Brand Slug: {{ selectedBrand.slug }}</p>
    </div>
</section>
}